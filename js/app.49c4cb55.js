(function(){"use strict";var e={861:function(e,t,o){var n=o(963),l=o(252);const i={id:"app",class:"small-container"},s=(0,l._)("h1",null,"Employees",-1);function a(e,t,o,n,a,r){const m=(0,l.up)("employee-form"),c=(0,l.up)("employee-table");return(0,l.wg)(),(0,l.iD)("div",i,[s,(0,l.Wm)(m,{"onAdd:employee":r.addEmployee},null,8,["onAdd:employee"]),(0,l.Wm)(c,{employees:a.employees,"onDelete:employee":r.deleteEmployee,"onEdit:employee":r.editEmployee},null,8,["employees","onDelete:employee","onEdit:employee"])])}var r=o(577);const m=e=>((0,l.dD)("data-v-2ef7ff20"),e=e(),(0,l.Cn)(),e),c={id:"employee-table"},p={key:0,class:"empty-table"},d=m((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Employee name"),(0,l._)("th",null,"Employee email"),(0,l._)("th",null,"Actions")])],-1))),u={key:0},y=["onUpdate:modelValue"],h={key:1},f={key:2},g=["onUpdate:modelValue"],b={key:3},v={key:4},w=["onClick"],E=["onClick"],_={key:5},k=["onClick"],D=["onClick"];function j(e,t,o,i,s,a){return(0,l.wg)(),(0,l.iD)("div",c,[o.employees.length<1?((0,l.wg)(),(0,l.iD)("p",p,"No employees")):(0,l.kq)("",!0),(0,l._)("table",null,[d,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.employees,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t.id},[s.editing===t.id?((0,l.wg)(),(0,l.iD)("td",u,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e=>t.name=e},null,8,y),[[n.nr,t.name]])])):((0,l.wg)(),(0,l.iD)("td",h,(0,r.zw)(t.name),1)),s.editing===t.id?((0,l.wg)(),(0,l.iD)("td",f,[(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e=>t.email=e},null,8,g),[[n.nr,t.email]])])):((0,l.wg)(),(0,l.iD)("td",b,(0,r.zw)(t.email),1)),s.editing===t.id?((0,l.wg)(),(0,l.iD)("td",v,[(0,l._)("button",{onClick:e=>a.editEmployee(t)},"Save",8,w),(0,l._)("button",{class:"muted-button",onClick:e=>a.cancelEdit(t)},"Cancel",8,E)])):((0,l.wg)(),(0,l.iD)("td",_,[(0,l._)("button",{onClick:e=>a.editMode(t)},"Edit",8,k),(0,l._)("button",{onClick:o=>e.$emit("delete:employee",t.id)},"Delete",8,D)]))])))),128))])])])}var C={name:"employee-table",props:{employees:Array},data(){return{editing:null}},methods:{editMode(e){this.cachedEmployee=Object.assign({},e),this.editing=e.id},cancelEdit(e){console.log(e),console.log(this.cachedEmployee),Object.assign(e,this.cachedEmployee),console.log(e),this.editing=null},editEmployee(e){""!==e.name&&""!==e.email&&(this.$emit("edit:employee",e.id,e),this.editing=null)}}},O=o(744);const S=(0,O.Z)(C,[["render",j],["__scopeId","data-v-2ef7ff20"]]);var U=S;const x=e=>((0,l.dD)("data-v-2824161e"),e=e(),(0,l.Cn)(),e),T={id:"employee-form"},F=x((()=>(0,l._)("label",null,"Employee name",-1))),N=x((()=>(0,l._)("label",null,"Employee Email",-1))),V={key:0,class:"error-message"},$={key:1,class:"success-message"},A=x((()=>(0,l._)("button",null,"Add Employee",-1)));function P(e,t,o,i,s,a){return(0,l.wg)(),(0,l.iD)("div",T,[(0,l._)("form",{onSubmit:t[5]||(t[5]=(0,n.iM)(((...e)=>a.handleSubmit&&a.handleSubmit(...e)),["prevent"]))},[F,(0,l.wy)((0,l._)("input",{ref:"first",type:"text",class:(0,r.C_)({"has-error":s.submitting&&a.invalidName}),"onUpdate:modelValue":t[0]||(t[0]=e=>s.employee.name=e),onFocus:t[1]||(t[1]=(...e)=>a.clearStatus&&a.clearStatus(...e)),onKeypress:t[2]||(t[2]=(...e)=>a.clearStatus&&a.clearStatus(...e))},null,34),[[n.nr,s.employee.name]]),N,(0,l.wy)((0,l._)("input",{type:"text",class:(0,r.C_)({"has-error":s.submitting&&a.invalidEmail}),"onUpdate:modelValue":t[3]||(t[3]=e=>s.employee.email=e),onFocus:t[4]||(t[4]=(...e)=>a.clearStatus&&a.clearStatus(...e))},null,34),[[n.nr,s.employee.email]]),s.error&&s.submitting?((0,l.wg)(),(0,l.iD)("p",V,"❗Please fill out all required fields")):(0,l.kq)("",!0),s.success?((0,l.wg)(),(0,l.iD)("p",$,"✅ Employee successfully added")):(0,l.kq)("",!0),A],32)])}var q={name:"employee-form",data(){return{submitting:!1,error:!1,success:!1,employee:{name:"",email:""}}},methods:{handleSubmit(){this.submitting=!0,this.clearStatus(),this.invalidName||this.invalidEmail?this.error=!0:(this.$emit("add:employee",this.employee),this.$refs.first.focus(),this.employee={name:"",email:""},this.error=!1,this.success=!0,this.submitting=!1)},clearStatus(){this.success=!1,this.error=!1}},computed:{invalidName(){return""===this.employee.name},invalidEmail(){return""===this.employee.email}}};const M=(0,O.Z)(q,[["render",P],["__scopeId","data-v-2824161e"]]);var Z=M,z={name:"app",components:{EmployeeTable:U,EmployeeForm:Z},data(){return{employees:[]}},mounted(){this.getEmployees()},methods:{async getEmployees(){try{const e=await fetch("https://jsonplaceholder.typicode.com/users"),t=await e.json();this.employees=t}catch(e){console.error(e)}},async addEmployee(e){try{const t=await fetch("https://jsonplaceholder.typicode.com/users",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json; charset=UTF-8"}}),o=await t.json();this.employees=[...this.employees,o]}catch(t){console.error(t)}},async editEmployee(e,t){try{const o=await fetch(`https://jsonplaceholder.typicode.com/users/${e}`,{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}),n=await o.json();this.employees=this.employees.map((t=>t.id===e?n:t))}catch(o){console.error(o)}},async deleteEmployee(e){try{await fetch(`https://jsonplaceholder.typicode.com/users/${e}`,{method:"DELETE"}),this.employees=this.employees.filter((t=>t.id!==e))}catch(t){console.error(t)}}}};const I=(0,O.Z)(z,[["render",a]]);var J=I;(0,n.ri)(J).mount("#app")}},t={};function o(n){var l=t[n];if(void 0!==l)return l.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(t,n,l,i){if(!n){var s=1/0;for(c=0;c<e.length;c++){n=e[c][0],l=e[c][1],i=e[c][2];for(var a=!0,r=0;r<n.length;r++)(!1&i||s>=i)&&Object.keys(o.O).every((function(e){return o.O[e](n[r])}))?n.splice(r--,1):(a=!1,i<s&&(s=i));if(a){e.splice(c--,1);var m=l();void 0!==m&&(t=m)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,l,i]}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,i,s=n[0],a=n[1],r=n[2],m=0;if(s.some((function(t){return 0!==e[t]}))){for(l in a)o.o(a,l)&&(o.m[l]=a[l]);if(r)var c=r(o)}for(t&&t(n);m<s.length;m++)i=s[m],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(c)},n=self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(861)}));n=o.O(n)})();
//# sourceMappingURL=app.49c4cb55.js.map